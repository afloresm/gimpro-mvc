<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">



		<!-- 1. Add these JavaScript inclusions in the head of your page -->
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
		<script type="text/javascript" src="../js/highcharts.js"></script>

		<!-- 1a) Optional: add a theme file -->
		<!--
			<script type="text/javascript" src="../js/themes/gray.js"></script>
		-->

		<!-- 1b) Optional: the exporting module -->
		<script type="text/javascript" src="../js/modules/exporting.js"></script>
      

      <!-- JavaScript to initialize the chart on document ready -->
      <script type="text/javascript">
         $(document).ready(function() {
            var options = {
               chart: {
                  renderTo: 'container',
                  type: 'pie',
                  plotBackgroundColor: null,
                  plotBorderWidth: null,
                  plotShadow: false
               },
               title: {
                  text: 'Pie Test'
               },
               series: [{data:[]}]
            };
                    if (window.XMLHttpRequest)
                         {// code for IE7+, Firefox, Chrome, Opera, Safari
                         xmlhttp=new XMLHttpRequest();
                      }
                    else
                         {// code for IE6, IE5
                         xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                          }
                        xmlhttp.open("GET","data.xml",false);
                        xmlhttp.send();
                        xmlDoc=xmlhttp.responseXML; 

         var x=xmlDoc.getElementsByTagName("ttHeader");
         for (i=0;i<x.length;i++)
         { 
            var seriesName =x[i].getElementsByTagName("CustomerName")[0].childNodes[0].nodeValue;
            var seriesDataXML =x[i].getElementsByTagName("TotalAmount")[0].childNodes[0].nodeValue;
         }
         var seriesData = {
            name : seriesName,
            data : seriesDataXML
         };   
         options.series.push(seriesData);
         var chart = new Highcharts.Chart(options);   
         });
      </script>   
   </head>
   <body>
      <div id="container" style="width: 800px; height: 400px; margin: 0 auto"></div>   
   </body>
</html>